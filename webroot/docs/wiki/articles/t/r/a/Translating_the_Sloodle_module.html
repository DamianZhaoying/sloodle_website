<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en" dir="ltr">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
	<!-- headlinks removed -->
	<link rel="shortcut icon" href="../../../../misc/favicon.ico"/>
    <title>Translating the Sloodle module - SLIS Second Life Wiki</title>
    <style type="text/css">/*<![CDATA[*/ @import "../../../../skins/offline/main.css"; /*]]>*/</style>
    <link rel="stylesheet" type="text/css" media="print" href="../../../../skins/common/commonPrint.css" />
    <!--[if lt IE 5.5000]><style type="text/css">@import "../../../../skins/monobook/IE50Fixes.css";</style><![endif]-->
    <!--[if IE 5.5000]><style type="text/css">@import "../../../../skins/monobook/IE55Fixes.css";</style><![endif]-->
    <!--[if IE 6]><style type="text/css">@import "../../../../skins/monobook/IE60Fixes.css";</style><![endif]-->
    <!--[if IE]><script type="text/javascript" src="../../../../skins/common/IEFixes.js"></script>
    <meta http-equiv="imagetoolbar" content="no" /><![endif]-->
    <script type="text/javascript" src="../../../../skins/common/wikibits.js"></script>
    <script type="text/javascript" src="../../../../skins/offline/md5.js"></script>
    <script type="text/javascript" src="../../../../skins/offline/utf8.js"></script>
    <script type="text/javascript" src="../../../../skins/offline/lookup.js"></script>
                      </head>
  <body
    class="ns-0 ns-subject page-Translating_the_Sloodle_module">
    <div id="globalWrapper">
      <div id="column-content">
	<div id="content">
	  <a name="top" id="contentTop"></a>
	        <h1 class="firstHeading">Translating the Sloodle module</h1>
	  <div id="bodyContent">
	    <h3 id="siteSub">From SLIS Second Life Wiki</h3>
	    <div id="contentSub"></div>
	    	    	    <!-- start content -->
	    <div id="mw-content-text" lang="en" dir="ltr" class="mw-content-ltr"><table id="toc" class="toc"><tr><td><div id="toctitle"><h2>Contents</h2></div>
<ul>
<li class="toclevel-1 tocsection-1"><a href="#Introduction"><span class="tocnumber">1</span> <span class="toctext">Introduction</span></a>
<ul>
<li class="toclevel-2 tocsection-2"><a href="#But_Why.3F"><span class="tocnumber">1.1</span> <span class="toctext">But Why?</span></a></li>
<li class="toclevel-2 tocsection-3"><a href="#Where_are_the_language_files.3F"><span class="tocnumber">1.2</span> <span class="toctext">Where are the language files?</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-4"><a href="#How_does_it_affect_me.3F"><span class="tocnumber">2</span> <span class="toctext">How does it affect me?</span></a>
<ul>
<li class="toclevel-2 tocsection-5"><a href="#Localization_Strings"><span class="tocnumber">2.1</span> <span class="toctext">Localization Strings</span></a>
<ul>
<li class="toclevel-3 tocsection-6"><a href="#Creating_strings"><span class="tocnumber">2.1.1</span> <span class="toctext">Creating strings</span></a></li>
<li class="toclevel-3 tocsection-7"><a href="#Adding_strings_to_the_language_file"><span class="tocnumber">2.1.2</span> <span class="toctext">Adding strings to the language file</span></a></li>
<li class="toclevel-3 tocsection-8"><a href="#Using_strings_in_your_code"><span class="tocnumber">2.1.3</span> <span class="toctext">Using strings in your code</span></a></li>
</ul>
</li>
<li class="toclevel-2 tocsection-9"><a href="#Help_Files"><span class="tocnumber">2.2</span> <span class="toctext">Help Files</span></a>
<ul>
<li class="toclevel-3 tocsection-10"><a href="#Adding_the_file"><span class="tocnumber">2.2.1</span> <span class="toctext">Adding the file</span></a></li>
<li class="toclevel-3 tocsection-11"><a href="#Adding_the_help_button"><span class="tocnumber">2.2.2</span> <span class="toctext">Adding the help button</span></a></li>
<li class="toclevel-3 tocsection-12"><a href="#Translation"><span class="tocnumber">2.2.3</span> <span class="toctext">Translation</span></a></li>
</ul>
</li>
</ul>
</li>
<li class="toclevel-1 tocsection-13"><a href="#Affected_Files"><span class="tocnumber">3</span> <span class="toctext">Affected Files</span></a>
<ul>
<li class="toclevel-2 tocsection-14"><a href="#Source_Code"><span class="tocnumber">3.1</span> <span class="toctext">Source Code</span></a>
<ul>
<li class="toclevel-3 tocsection-15"><a href="#Current_Language_Files"><span class="tocnumber">3.1.1</span> <span class="toctext">Current Language Files</span></a></li>
<li class="toclevel-3 tocsection-16"><a href="#Requested_Languages"><span class="tocnumber">3.1.2</span> <span class="toctext">Requested Languages</span></a></li>
</ul>
</li>
</ul>
</li>
<li class="toclevel-1 tocsection-17"><a href="#Get_Involved.21"><span class="tocnumber">4</span> <span class="toctext">Get Involved!</span></a></li>
</ul>
</td></tr></table>
<h1> <span class="mw-headline" id="Introduction"> Introduction </span></h1>
<p>According to the Moodle coding guidelines, the Sloodle module should be developed to allow different language translations to be included easily. For text that appears in the usual Sloodle web-pages, this means keeping all of the module text (e.g. headings, instructions, forms etc.) in separate files (called localization files), with one file for each language. Each block of text, such as a sentence or a paragraph, will be identified by a short English name, and all of our source code will reference those text blocks. For the module documentation (help files which popup when you click a help button), this means storing the help files in a special way.
</p><p>You may want to read the <a rel="nofollow" class="external text" href="http://docs.moodle.org/en/Translation">Moodle translation documentation</a> for a deeper background.
</p><p><br />
</p>
<h3> <span class="mw-headline" id="But_Why.3F"> But Why? </span></h3>
<p>It is certainly a lot easier for us programmers just to throw text around wherever we feel like doing it. However, we have already received requests for Sloodle in other languages, and translation is *much* easier if we use Moodle's own localization formats. In fact, it's so easy, we can get translators to do it without any significant programming ability whatsoever.
</p><p><br />
</p>
<h3> <span class="mw-headline" id="Where_are_the_language_files.3F"> Where are the language files? </span></h3>
<p>In the Sloodle folder, you will see a "lang" folder. Inside that, there is a sub-folder for each language, e.g. "en_utf8" for English.
</p><p>Within each of those folders is a localization file called "sloodle.php" which contains all the localization strings (it is crucial that each language file is named and stored this way, otherwise Moodle will not find it). There is also a "help" folder, with another "sloodle" folder inside it. All of the help files are stored in there, as small HTML files.
</p><p>For example, for Sloodle.org, the English localization file for Sloodle would be stored here:
</p>
<pre><a rel="nofollow" class="external free" href="http://www.sloodle.org/mod/sloodle/lang/en_utf8/sloodle.php">http://www.sloodle.org/mod/sloodle/lang/en_utf8/sloodle.php</a>
</pre>
<p>An English help file about "object authorization" would be stored here:
</p>
<pre><a rel="nofollow" class="external free" href="http://www.sloodle.org/mod/sloodle/lang/en_utf8/help/sloodle/object_authorization.html">http://www.sloodle.org/mod/sloodle/lang/en_utf8/help/sloodle/object_authorization.html</a>
</pre>
<p><br />
</p>
<h1> <span class="mw-headline" id="How_does_it_affect_me.3F"> How does it affect me? </span></h1>
<p>If you are contributing code to Sloodle, and your code produces text output which the user may see (e.g. instructions, error messages, information etc.), then you need to use localization strings. This is not too hard, but requires you to change the way you add strings into your code. If you need use popup help files, then you will have to add the files to the correct folder, and use the Moodle <a rel="nofollow" class="external text" href="http://phpdocs.moodle.org/moodlecore/_lib---weblib.php.html#functionhelpbutton">helpbutton()</a> function to create a link to it.
</p>
<h3> <span class="mw-headline" id="Localization_Strings"> Localization Strings </span></h3>
<h4> <span class="mw-headline" id="Creating_strings"> Creating strings </span></h4>
<p>Instead of simply adding the strings directly into your code, plan out what strings you need, and give each one a concise English name (you may categorise several together if you wish). <b>Please</b> follow the <a href="../../../../articles/l/o/c/Localization_String_Guidelines.html" title="Localization String Guidelines">Localization String Guidelines</a> when doing this... they are simple to use!
</p><p><br />
</p>
<h4> <span class="mw-headline" id="Adding_strings_to_the_language_file"> Adding strings to the language file </span></h4>
<p>Before you can use the strings in your code, you must add them to your local language file(s). Open the English language file (see above for how to find that) and you will see the format. Each line defines a single string, in this way:
</p>
<pre>$string['stringname'] = 'string text';
</pre>
<p>As you can see, the file is simply populating an associative array, which associates string names with their content. Simply copy the format, and add in your own string names and content, then save the file, and Moodle will be able to find them. Please try to keep the file neat and tidy, by putting each string in alphabetical order, according to its name.
</p><p><br />
</p>
<h4> <span class="mw-headline" id="Using_strings_in_your_code"> Using strings in your code </span></h4>
<p>Moodle will take care of fetching the correct set of strings according to the current language. All you need to do is request each string (by name) at the appropriate points in your code. There are two ways of doing this:
</p>
<pre>get_string( "stringname", "modulename" );
print_string( "stringname", "modulename" );
</pre>
<p>The first function returns the string as an item of data, while the second outputs it directly to the HTML body. (Note that in our case, the module name is always "sloodle".)
</p><p>And that's it! You will quickly become familiar with the process.
</p><p><br />
</p>
<h3> <span class="mw-headline" id="Help_Files"> Help Files </span></h3>
<h4> <span class="mw-headline" id="Adding_the_file"> Adding the file </span></h4>
<p>Let's say you want to create an English help file about the name "Sloodle" and what it means. You would create a file called "sloodle_name.html", and place it in "sloodle/lang/en_utf8/help/sloodle". You do not add any header or body information to file. Just creating a heading, such as:
</p>
<ul><li> &lt;h3&gt;Sloodle name&lt;/h3&gt;
</li></ul>
<p>Then add the body information, e.g.:
</p>
<ul><li> &lt;p&gt;Sloodle is a combination of "Second Life" and "Moodle".&lt;/p&gt;
</li></ul>
<p><br />
</p>
<h4> <span class="mw-headline" id="Adding_the_help_button"> Adding the help button </span></h4>
<p>The usual appearance of a popup helpfile in Moodle in a yellow circle with a question mark. You can use Moodle to generate this for you, using the <a rel="nofollow" class="external text" href="http://phpdocs.moodle.org/moodlecore/_lib---weblib.php.html#functionhelpbutton">helpbutton()</a> function, like this:
</p>
<ul><li> helpbutton('sloodle_name', <i>, 'sloodle', true, false);</i>
</li></ul>
<p>If you change the last "false" to a "true", then the second argument becomes a title string displayed beside the button. However, you will probably need to create a separate localization string for this, so that it gets translated appropriately.
</p><p><br />
</p>
<h4> <span class="mw-headline" id="Translation"> Translation </span></h4>
<p>All you need to do is repeat the "Adding the file" process for each language, putting the appropriate translation of the file into each place. Moodle will automatically detect the user's preferred language, and display the help file (if available). It will revert to the site default (usually English) if the user's preferred language is not available.
</p><p><br />
</p>
<h1> <span class="mw-headline" id="Affected_Files"> Affected Files </span></h1>
<h2> <span class="mw-headline" id="Source_Code"> Source Code </span></h2>
<p>Any source code file (typically *.php) which outputs any text to the browser is likely to be affected. This even includes labels on buttons, and "alt" or "title" attributes of images and links. Variables, commands, and error/debug messages will typically still be in English, although these can be translated as well if needed.
</p><p><br />
</p>
<h4> <span class="mw-headline" id="Current_Language_Files"> Current Language Files </span></h4>
<ul><li> sloodle.php
</li><li> help/sloodle/object_authorization.html
</li><li> help/sloodle/object_distributor.html
</li><li> help/sloodle/prim_password.html
</li><li> help/sloodle/user_authentication.html
</li><li> help/sloodle/version_numbers.html
</li></ul>
<p><br />
</p>
<h4> <span class="mw-headline" id="Requested_Languages"> Requested Languages </span></h4>
<p>These are the languages we know there is a need for:
</p>
<ul><li> Spanish (es_utf8)
</li></ul>
<p><br />
</p>
<h1> <span class="mw-headline" id="Get_Involved.21"> Get Involved! </span></h1>
<p>Are you able to translate the Sloodle module into the other languages? If so, we want to hear from you! Let us know of your interest on the Sloodle forums, and see if there's a need for the language(s) you can translate.
</p><p>Once you have found a language you can translate to, obtain the latest Sloodle source code. If needed, created the folders and files for your translation (best to copy them from the English files), and begin editing them to use your language.
</p><p>When translating, it would be best if everybody translates from the English version, to help prevent mistranslations! We are hoping to have a translation module setup on Sloodle.org, which will make the process even simpler. An announcement will be made on the Sloodle News forums when that is available.
</p><p><br />
</p>
<table style="background-color:white; border:1px solid #0099cc; text-align:center; width:100%;">
<tr>
<th style="background-color:#99d9ea;" colspan="4"> This page is part of the SLOODLE documentation
</th></tr>
<tr>
<td style="border-bottom:solid 1px #dddddd;"> Docs: <a href="../../../../articles/s/l/o/SloodleUserDocs.html" title="SloodleUserDocs" class="mw-redirect">Users</a> | <a href="../../../../articles/s/l/o/SloodleAdminDocs.html" title="SloodleAdminDocs" class="mw-redirect">Administrators</a> | <a href="../../../../articles/s/l/o/SloodleDevDocs.html" title="SloodleDevDocs" class="mw-redirect">Developers</a>
</td></tr>
<tr>
<td style=""> <span style="float:left"><a href="../../../../articles/s/l/o/Sloodle.html" title="Sloodle" class="mw-redirect">Wiki Frontpage</a></span> <span style="float:right"><a rel="nofollow" class="external text" href="http://www.sloodle.org">Sloodle.org</a></span>
</td></tr></table>

<!-- 
NewPP limit report
Preprocessor node count: 70/1000000
Post‐expand include size: 486/2097152 bytes
Template argument size: 0/2097152 bytes
Expensive parser function count: 0/100
-->
</div><div class="printfooter">
</div>
	    <div id="catlinks"><div id='catlinks' class='catlinks'><div id="mw-normal-catlinks" class="mw-normal-catlinks"><a href="http://localhost/sl/index.php/Special:Categories" title="Special:Categories">Category</a>: <ul><li><a href="../../../../articles/s/l/o/Category:SloodleDevDocs.html" title="Category:SloodleDevDocs">SloodleDevDocs</a></li></ul></div></div></div>	    <!-- end content -->
	    <div class="visualClear"></div>
	  </div>
	</div>
      </div>
      <div id="column-one">
	<div id="p-cactions" class="portlet">
	  <h5>Views</h5>
	  <ul>
	    <li id="ca-nstab-main"
	       class="selected"	       ><a href="../../../../articles/t/r/a/Translating_the_Sloodle_module.html">Page</a></li><li id="ca-talk"
	       class="new"	       ><a href="http:http://localhost/sl/index.php?title=Talk:Translating_the_Sloodle_module&amp;action=edit&amp;redlink=1">Discussion</a></li><li id="ca-current"
	       	       ><a href="http://localhost/sl/index.php/Translating_the_Sloodle_module">Latest revision</a></li>	  </ul>
	</div>
	<div class="portlet" id="p-logo">
	  <a style="background-image: url(../../../../misc/wiki.png);"
	    href="../../../../index.html"
	    title="Main Page"></a>
	</div>
	<script type="text/javascript"> if (window.isMSIE55) fixalpha(); </script>
		<div class='portlet' id='p-navigation'>
	  <h5>Navigation</h5>
	  <div class='pBody'>
	    <ul>
	    	      <li id="n-mainpage-description"><a href="../../../../index.html">Main page</a></li>
	     	      <li id="n-SLOODLE"><a href="../../../../articles/s/l/o/Sloodle.html">SLOODLE</a></li>
	     	      <li id="n-currentevents"><a href="../../../../articles/c/u/r/SLIS_Second_Life_Wiki:Current_events.html">Current events</a></li>
	     	      <li id="n-help"><a href="../../../../articles/c/o/n/Help:Contents.html">Help</a></li>
	     	    </ul>
	  </div>
	</div>
		<div class='portlet' id='p-SEARCH'>
	  <h5>Search</h5>
	  <div class='pBody'>
	    <ul>
	    	    </ul>
	  </div>
	</div>
		<div class='portlet' id='p-TOOLBOX'>
	  <h5>Toolbox</h5>
	  <div class='pBody'>
	    <ul>
	    	    </ul>
	  </div>
	</div>
		<div class='portlet' id='p-LANGUAGES'>
	  <h5>LANGUAGES</h5>
	  <div class='pBody'>
	    <ul>
	    	    </ul>
	  </div>
	</div>
		<div id="p-search" class="portlet">
	  <h5><label for="searchInput">Search</label></h5>
	  <div id="searchBody" class="pBody">
	    <form action="javascript:goToStatic(3)" id="searchform"><div>
	      <input id="searchInput" name="search" type="text"
	        accesskey="f" value="" />
	      <input type='submit' name="go" class="searchButton" id="searchGoButton"
	        value="Go" />
	    </div></form>
	  </div>
	</div>
	      </div><!-- end of the left (by default at least) column -->
      <div class="visualClear"></div>
      <div id="footer">
    <div id="f-poweredbyico"><a href="//www.mediawiki.org/"><img src="../../../../skins/common/images/poweredby_mediawiki_88x31.png" height="31" width="88" alt="Powered by MediaWiki" /></a></div>		<ul id="f-list">
	  	  	  <li id="f-credits">This page was last modified 09:03, 10 January 2008 by SLIS Second Life Wiki user <a href="http:http://localhost/sl/index.php?title=User:Peter_Bloomfield&amp;action=edit&amp;redlink=1" class="new" title="User:Peter Bloomfield (page does not exist)">Peter Bloomfield</a>. </li>	  	  <li id="f-about"><a href="../../../../articles/a/b/o/SLIS_Second_Life_Wiki:About.html" title="SLIS Second Life Wiki:About">About SLIS Second Life Wiki</a></li>	  <li id="f-disclaimer"><a href="../../../../articles/g/e/n/SLIS_Second_Life_Wiki:General_disclaimer.html" title="SLIS Second Life Wiki:General disclaimer">Disclaimers</a></li>	  	</ul>
      </div>
    </div>
  </body>
</html>
