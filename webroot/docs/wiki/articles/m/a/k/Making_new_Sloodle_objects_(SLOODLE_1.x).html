<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en" dir="ltr">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
	<!-- headlinks removed -->
	<link rel="shortcut icon" href="../../../../misc/favicon.ico"/>
    <title>Making new Sloodle objects (SLOODLE 1.x) - SLIS Second Life Wiki</title>
    <style type="text/css">/*<![CDATA[*/ @import "../../../../skins/offline/main.css"; /*]]>*/</style>
    <link rel="stylesheet" type="text/css" media="print" href="../../../../skins/common/commonPrint.css" />
    <!--[if lt IE 5.5000]><style type="text/css">@import "../../../../skins/monobook/IE50Fixes.css";</style><![endif]-->
    <!--[if IE 5.5000]><style type="text/css">@import "../../../../skins/monobook/IE55Fixes.css";</style><![endif]-->
    <!--[if IE 6]><style type="text/css">@import "../../../../skins/monobook/IE60Fixes.css";</style><![endif]-->
    <!--[if IE]><script type="text/javascript" src="../../../../skins/common/IEFixes.js"></script>
    <meta http-equiv="imagetoolbar" content="no" /><![endif]-->
    <script type="text/javascript" src="../../../../skins/common/wikibits.js"></script>
    <script type="text/javascript" src="../../../../skins/offline/md5.js"></script>
    <script type="text/javascript" src="../../../../skins/offline/utf8.js"></script>
    <script type="text/javascript" src="../../../../skins/offline/lookup.js"></script>
                      </head>
  <body
    class="ns-0 ns-subject page-Making_new_Sloodle_objects_SLOODLE_1_x">
    <div id="globalWrapper">
      <div id="column-content">
	<div id="content">
	  <a name="top" id="contentTop"></a>
	        <h1 class="firstHeading">Making new Sloodle objects (SLOODLE 1.x)</h1>
	  <div id="bodyContent">
	    <h3 id="siteSub">From SLIS Second Life Wiki</h3>
	    <div id="contentSub"></div>
	    	    	    <!-- start content -->
	    <div id="mw-content-text" lang="en" dir="ltr" class="mw-content-ltr"><p style="text-align:right;"><span title="This information only applies to Sloodle versions: 1.x" style="vertical-align:middle; padding:4px; font-size:12pt; background-color:#ccffff; border:solid 1px #7777ff;">Sloodle Versions: <strong>1.x</strong> <span style="font-size:75%; vertical-align:middle;"><a href="../../../../articles/s/l/o/Sloodle_Versions.html" title="Sloodle Versions">(?)</a></span></span></p>
<p>This page is for SLOODLE 1.x and below. For the current version see <a href="../../../../articles/m/a/k/Making_new_Sloodle_objects_(SLOODLE_2.x).html" title="Making new Sloodle objects (SLOODLE 2.x)">Making new Sloodle objects (SLOODLE 2.x)</a>.
</p><p>This page is for anybody interested in creating a new Sloodle object to add to the toolset, and is specifically concerned with 'course centric' objects -- this means objects which are connected to a Moodle course or a particular part of a course, rather than connected to a user (as in <a href="http:http://localhost/sl/index.php?title=User_Centric_Authorisation&amp;action=edit&amp;redlink=1" class="new" title="User Centric Authorisation (page does not exist)">User Centric Authorisation</a>). The most important part of planning your new object is the data transactions. Please be sure to read and follow the <i><a href="../../../../articles/s/l/o/Sloodle_communications_specification.html" title="Sloodle communications specification">Sloodle communications specification</a></i> when deciding what your tool will do.
</p><p><br />
</p>
<table id="toc" class="toc"><tr><td><div id="toctitle"><h2>Contents</h2></div>
<ul>
<li class="toclevel-1 tocsection-1"><a href="#Type_Identifier"><span class="tocnumber">1</span> <span class="toctext">Type Identifier</span></a></li>
<li class="toclevel-1 tocsection-2"><a href="#Changes_in_Second_Life"><span class="tocnumber">2</span> <span class="toctext">Changes in Second Life</span></a>
<ul>
<li class="toclevel-2 tocsection-3"><a href="#Main_Script"><span class="tocnumber">2.1</span> <span class="toctext">Main Script</span></a></li>
<li class="toclevel-2 tocsection-4"><a href="#Localization_Script"><span class="tocnumber">2.2</span> <span class="toctext">Localization Script</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-5"><a href="#Changes_in_Moodle"><span class="tocnumber">3</span> <span class="toctext">Changes in Moodle</span></a>
<ul>
<li class="toclevel-2 tocsection-6"><a href="#Module_Class"><span class="tocnumber">3.1</span> <span class="toctext">Module Class</span></a></li>
<li class="toclevel-2 tocsection-7"><a href="#Object_Folder"><span class="tocnumber">3.2</span> <span class="toctext">Object Folder</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-8"><a href="#Help.21"><span class="tocnumber">4</span> <span class="toctext">Help!</span></a></li>
</ul>
</td></tr></table>
<h2> <span class="mw-headline" id="Type_Identifier"> Type Identifier </span></h2>
<p>The first thing to do is decide on a '<a href="../../../../articles/s/l/o/Sloodle_Object_Type_Identifier.html" title="Sloodle Object Type Identifier">type identifier</a>' for your object. This should consist of two parts: a short name (lower-case letters only), followed by a dash, and a version number (start at version 1.0). For example, the <a href="../../../../articles/s/l/o/Sloodle_WebIntercom.html" title="Sloodle WebIntercom">WebIntercom</a> tool, which connects SL/Moodle chat, started out as "chat-1.0" in Sloodle 0.3. If we make another version, it may be "chat-1.1".
</p><p>Make sure your type identifier is unique and clear, and try not to make it too long! (No more than 12 characters, if possible).
</p><p><br />
</p>
<h2> <span class="mw-headline" id="Changes_in_Second_Life"> Changes in Second Life </span></h2>
<h4> <span class="mw-headline" id="Main_Script"> Main Script </span></h4>
<p>You can use as many LSL scripts as you like in your Sloodle objects, but the main script that does the bulk of the work should be named "sloodle_mod_" followed by the type identifier. For example, the main <a href="../../../../articles/s/l/o/Sloodle_WebIntercom.html" title="Sloodle WebIntercom">WebIntercom</a> script is called "sloodle_mod_chat-1.0", and the main <a href="../../../../articles/s/l/o/Sloodle_MetaGloss.html" title="Sloodle MetaGloss">MetaGloss</a> script is called "sloodle_mod_glossary-1.0". This naming is very important, as it lets the other standard Sloodle scripts recognise what kind of object they need to configure. Please do <i>not</i> use the name "sloodle_mod_..." for any other scripts!&#160;:-)
</p><p>It is normally important to make your object capable of receiving configuration information, e.g. from web or notecard configuration methods. The standard way to do this is make your "default" state almost completely idle. The only thing it will do is receive link messages on the <a href="../../../../articles/s/l/o/Sloodle_channels.html" title="Sloodle channels">SLOODLE_CHANNEL_OBJECT_DIALOG</a> channel, which contain configuration commands. You can usually copy the default state from other objects, and be sure to copy the "sloodle_handle_command(..)" function too, and customize it to suit your needs. You will need to add/remove configuration settings, and make sure the function returns TRUE when it has got all the configuration data it needs, or false if it does not.
</p><p>Your other states may behave as you like. If you want to completely reset your object and fetch a new configuration, send a "do:reset" link message on the SLOODLE_CHANNEL_OBJECT_DIALOG channel, and the configuration scripts will reset as well.
</p><p><br />
</p>
<h4> <span class="mw-headline" id="Localization_Script"> Localization Script </span></h4>
<p>If your object outputs any text, then you will need to create a new <a href="http:http://localhost/sl/index.php?title=Sloodle_LSL_Localization_Script&amp;action=edit&amp;redlink=1" class="new" title="Sloodle LSL Localization Script (page does not exist)">LSL localization script</a>. The naming convention is as follows: "sloodle_translation_NAME_LANG". The NAME part should probably be very similar to your object identifier, but it is sometimes different, especially if multiple similar objects share the same script. The LANG part should be a language code, such as "en" for English, or "fr" for French.
</p><p>It is best to copy an existing script, rename it, and change the contents to suit your needs. You will also need to copy some code into your main script so that you can access the localization script. Read the <a href="http:http://localhost/sl/index.php?title=Sloodle_LSL_Localization_Script&amp;action=edit&amp;redlink=1" class="new" title="Sloodle LSL Localization Script (page does not exist)">Sloodle LSL Localization Script</a> page for more details.
</p><p>==== Standard Scripts ====  <a rel="nofollow" class="external text" href="http://www.writers.ph/">job online</a>
There are many standard Sloodle scripts which are re-used throughout many objects. It is often best to use these wherever possible, so that everything is consistent, and to save you programming time. Some of the common scripts are shown below:
</p>
<ul><li> <i>sloodle_translation_en</i> - the code Sloodle localization script (normally used by all objects)
</li></ul>
<ul><li> <i>sloodle_setup_web</i> - performs web-configuration and sends messages to your other scripts via link message (compatible with notecard version)
</li><li> <i>sloodle_setup_notecard</i> - can read configuration from a <a href="../../../../articles/s/l/o/Sloodle_config.html" title="Sloodle config">sloodle_config</a> notecard, and send messages to your other scripts via link message (compatible with web version)
</li></ul>
<ul><li> <i>sloodle_active_object_ping</i> - regularly notifies Moodle that the object is still active, to prevent it from being deauthorised due to timeout
</li><li> <i>sloodle_email_login_details</i> - receives emails and notifies users of their auto-registered account details via Instant Message (has bugs!)
</li><li> <i>sloodle_layout_object</i> - allows the object to save itself to a layout when request by the Sloodle Set
</li></ul>
<ul><li> <i>sloodle_manual_reg_enrol</i> - can conduct manual registration/enrolment procedures in response to link messages
</li><li> <i>sloodle_multi_url_loader</i>, <i>sloodle_parallel_url_loader_x</i> - allows parallel loading of multiple URLs to avoid script delays
</li></ul>
<p><br />
</p>
<h2> <span class="mw-headline" id="Changes_in_Moodle"> Changes in Moodle </span></h2>
<h4> <span class="mw-headline" id="Module_Class"> Module Class </span></h4>
<p>If your object will access a Moodle module (such as a chatroom or a forum), then you will typically want to create a <a href="http:http://localhost/sl/index.php?title=Sloodle_Module_Class&amp;action=edit&amp;redlink=1" class="new" title="Sloodle Module Class (page does not exist)">Sloodle module class</a> for it. These are classes which effectively 'wrap' all the necessary functionality, such as database queries, with a fairly standard interface. This helps maintain consistency across different parts of Sloodle, and will hopefully make it easier for Sloodle to 'migrate' to other VLE platforms in the future. Additionally, it makes it possible for the Sloodle framework to automatically find and load your module.
</p>
<pre>Note: the module class should generally <b>not</b> output any information -- it should only be used to fetch and manipulate data.
</pre>
<p>You will find the module classes in <b>"sloodle/lib/modules"</b>. Each module class should be derived from the base class defined in "module_base.php". It is often best to copy an existing module class file, to see how things are done, and customize the functionality to suit your needs. Don't forget to check the base module class to see if there are any standard functions already there, or which you could override.
</p>
<pre>If your module class filename starts with "module_" and ends with ".php" then Sloodle will find it automatically.
</pre>
<p>Above all else, it is very important to specify the <b>type</b> name in the "get_type()" function. This should usually match the type identifier you created above, and will allow the system to automatically find the module later on. See the <a href="http:http://localhost/sl/index.php?title=Sloodle_Module_Class&amp;action=edit&amp;redlink=1" class="new" title="Sloodle Module Class (page does not exist)">Sloodle Module Class</a> page for more information on this.
</p>
<h4> <span class="mw-headline" id="Object_Folder"> Object Folder </span></h4>
<p>You will normally need to create an object folder for you object. You will find the object folders in "sloodle/mod", where you should create a new folder named according to your object identifier. There are typically at least 2 PHP files you will need to add here:
</p>
<ul><li> <i>"linker.php"</i> -- a <a href="../../../../articles/l/i/n/Linker_Script.html" title="Linker Script">Linker Script</a> which lets objects in SL communicate with Moodle (it helps to refer to the <a href="../../../../articles/s/l/o/Sloodle_PHP_API.html" title="Sloodle PHP API">Sloodle PHP API</a> for this)
</li><li> <i>"object_config.php"</i> -- outputs form elements to allow web-configuration (see <a href="http:http://localhost/sl/index.php?title=Sloodle_Web-Configuration_Script&amp;action=edit&amp;redlink=1" class="new" title="Sloodle Web-Configuration Script (page does not exist)">Sloodle Web-Configuration Script</a>) (name and content are very important... try to copy existing scripts)
</li></ul>
<p><br />
</p>
<h1> <span class="mw-headline" id="Help.21"> Help! </span></h1>
<p>I know this is an awful lot of information to get to grips with! The best thing to do is to start out creating just the <a href="../../../../articles/l/i/n/Linker_Script.html" title="Linker Script">Linker Script</a> in Moodle and your main LSL script in Second Life, and don't worry about everything else. When your idea is more fully established, you can start to introduce the rest of the concepts. And if you get stuck, please ask on our development forums, or IM Pedro McMillan in-world (RL: Peter Bloomfield).
</p><p><br />
</p>
<table style="background-color:white; border:1px solid #0099cc; text-align:center; width:100%;">
<tr>
<th style="background-color:#99d9ea;" colspan="4"> This page is part of the SLOODLE documentation
</th></tr>
<tr>
<td style="border-bottom:solid 1px #dddddd;"> Docs: <a href="../../../../articles/s/l/o/SloodleUserDocs.html" title="SloodleUserDocs" class="mw-redirect">Users</a> | <a href="../../../../articles/s/l/o/SloodleAdminDocs.html" title="SloodleAdminDocs" class="mw-redirect">Administrators</a> | <a href="../../../../articles/s/l/o/SloodleDevDocs.html" title="SloodleDevDocs" class="mw-redirect">Developers</a>
</td></tr>
<tr>
<td style=""> <span style="float:left"><a href="../../../../articles/s/l/o/Sloodle.html" title="Sloodle" class="mw-redirect">Wiki Frontpage</a></span> <span style="float:right"><a rel="nofollow" class="external text" href="http://www.sloodle.org">Sloodle.org</a></span>
</td></tr></table>

<!-- 
NewPP limit report
Preprocessor node count: 44/1000000
Post‐expand include size: 829/2097152 bytes
Template argument size: 6/2097152 bytes
Expensive parser function count: 0/100
-->
</div><div class="printfooter">
</div>
	    <div id="catlinks"><div id='catlinks' class='catlinks'><div id="mw-normal-catlinks" class="mw-normal-catlinks"><a href="http://localhost/sl/index.php/Special:Categories" title="Special:Categories">Category</a>: <ul><li><a href="../../../../articles/s/l/o/Category:SloodleDevDocs.html" title="Category:SloodleDevDocs">SloodleDevDocs</a></li></ul></div></div></div>	    <!-- end content -->
	    <div class="visualClear"></div>
	  </div>
	</div>
      </div>
      <div id="column-one">
	<div id="p-cactions" class="portlet">
	  <h5>Views</h5>
	  <ul>
	    <li id="ca-nstab-main"
	       class="selected"	       ><a href="../../../../articles/m/a/k/Making_new_Sloodle_objects_(SLOODLE_1.x).html">Page</a></li><li id="ca-talk"
	       class="new"	       ><a href="http:http://localhost/sl/index.php?title=Talk:Making_new_Sloodle_objects_(SLOODLE_1.x)&amp;action=edit&amp;redlink=1">Discussion</a></li><li id="ca-current"
	       	       ><a href="http://localhost/sl/index.php/Making_new_Sloodle_objects_(SLOODLE_1.x)">Latest revision</a></li>	  </ul>
	</div>
	<div class="portlet" id="p-logo">
	  <a style="background-image: url(../../../../misc/wiki.png);"
	    href="../../../../index.html"
	    title="Main Page"></a>
	</div>
	<script type="text/javascript"> if (window.isMSIE55) fixalpha(); </script>
		<div class='portlet' id='p-navigation'>
	  <h5>Navigation</h5>
	  <div class='pBody'>
	    <ul>
	    	      <li id="n-mainpage-description"><a href="../../../../index.html">Main page</a></li>
	     	      <li id="n-SLOODLE"><a href="../../../../articles/s/l/o/Sloodle.html">SLOODLE</a></li>
	     	      <li id="n-currentevents"><a href="../../../../articles/c/u/r/SLIS_Second_Life_Wiki:Current_events.html">Current events</a></li>
	     	      <li id="n-help"><a href="../../../../articles/c/o/n/Help:Contents.html">Help</a></li>
	     	    </ul>
	  </div>
	</div>
		<div class='portlet' id='p-SEARCH'>
	  <h5>Search</h5>
	  <div class='pBody'>
	    <ul>
	    	    </ul>
	  </div>
	</div>
		<div class='portlet' id='p-TOOLBOX'>
	  <h5>Toolbox</h5>
	  <div class='pBody'>
	    <ul>
	    	    </ul>
	  </div>
	</div>
		<div class='portlet' id='p-LANGUAGES'>
	  <h5>LANGUAGES</h5>
	  <div class='pBody'>
	    <ul>
	    	    </ul>
	  </div>
	</div>
		<div id="p-search" class="portlet">
	  <h5><label for="searchInput">Search</label></h5>
	  <div id="searchBody" class="pBody">
	    <form action="javascript:goToStatic(3)" id="searchform"><div>
	      <input id="searchInput" name="search" type="text"
	        accesskey="f" value="" />
	      <input type='submit' name="go" class="searchButton" id="searchGoButton"
	        value="Go" />
	    </div></form>
	  </div>
	</div>
	      </div><!-- end of the left (by default at least) column -->
      <div class="visualClear"></div>
      <div id="footer">
    <div id="f-poweredbyico"><a href="//www.mediawiki.org/"><img src="../../../../skins/common/images/poweredby_mediawiki_88x31.png" height="31" width="88" alt="Powered by MediaWiki" /></a></div>		<ul id="f-list">
	  	  	  <li id="f-credits">This page was last modified 22:57, 4 August 2012 by <a href="http:http://localhost/sl/index.php?title=User:Edochan&amp;action=edit&amp;redlink=1" class="new" title="User:Edochan (page does not exist)">Edmund Edgar</a>. Based on work by <a href="http:http://localhost/sl/index.php?title=User:BoxHead&amp;action=edit&amp;redlink=1" class="new" title="User:BoxHead (page does not exist)">Ben</a> and SLIS Second Life Wiki user <a href="http:http://localhost/sl/index.php?title=User:Peter_Bloomfield&amp;action=edit&amp;redlink=1" class="new" title="User:Peter Bloomfield (page does not exist)">Peter Bloomfield</a>.</li>	  	  <li id="f-about"><a href="../../../../articles/a/b/o/SLIS_Second_Life_Wiki:About.html" title="SLIS Second Life Wiki:About">About SLIS Second Life Wiki</a></li>	  <li id="f-disclaimer"><a href="../../../../articles/g/e/n/SLIS_Second_Life_Wiki:General_disclaimer.html" title="SLIS Second Life Wiki:General disclaimer">Disclaimers</a></li>	  	</ul>
      </div>
    </div>
  </body>
</html>
